---
http_interactions:
- request:
    method: get
    uri: http://localhost:8080/rest/process-instance?tenantIdIn=test-environment
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - Basic Og==
  response:
    status:
      code: 200
      message: ''
    headers:
      content-type:
      - application/json
      content-length:
      - '2'
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: "[]"
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:46 GMT
- request:
    method: get
    uri: http://localhost:8080/rest/incident?tenantIdIn=test-environment
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - Basic Og==
  response:
    status:
      code: 200
      message: ''
    headers:
      content-type:
      - application/json
      content-length:
      - '2'
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: "[]"
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:46 GMT
- request:
    method: post
    uri: http://localhost:8080/rest/process-definition/key/CamundaWorkflow/tenant-id/test-environment/start
    body:
      encoding: UTF-8
      string: '{"variables":{"x":{"value":"abcd","type":"String"}},"businessKey":"Key"}'
    headers:
      User-Agent:
      - Faraday v0.17.1
      Content-Type:
      - application/json
      Authorization:
      - Basic Og==
  response:
    status:
      code: 200
      message: ''
    headers:
      content-type:
      - application/json
      content-length:
      - '351'
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: '{"links":[{"method":"GET","href":"http://localhost:8080/rest/process-instance/c4c013de-22a2-11ea-a44e-acde48001122","rel":"self"}],"id":"c4c013de-22a2-11ea-a44e-acde48001122","definitionId":"CamundaWorkflow:2:c3da20c3-22a2-11ea-a44e-acde48001122","businessKey":"Key","caseInstanceId":null,"ended":false,"suspended":false,"tenantId":"test-environment"}'
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:46 GMT
- request:
    method: get
    uri: http://localhost:8080/rest/incident?tenantIdIn=test-environment
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - Basic Og==
  response:
    status:
      code: 200
      message: ''
    headers:
      content-type:
      - application/json
      content-length:
      - '2'
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: "[]"
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:46 GMT
- request:
    method: get
    uri: http://localhost:8080/rest/external-task?notLocked=true&tenantIdIn=test-environment
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - Basic Og==
  response:
    status:
      code: 200
      message: ''
    headers:
      content-type:
      - application/json
      content-length:
      - '1263'
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: '[{"activityId":"DoSomething","activityInstanceId":"DoSomething:c4c03afa-22a2-11ea-a44e-acde48001122","errorMessage":null,"errorDetails":null,"executionId":"c4c03af9-22a2-11ea-a44e-acde48001122","id":"c4c03afb-22a2-11ea-a44e-acde48001122","lockExpirationTime":null,"processDefinitionId":"CamundaWorkflow:2:c3da20c3-22a2-11ea-a44e-acde48001122","processDefinitionKey":"CamundaWorkflow","processDefinitionVersionTag":null,"processInstanceId":"c4c013de-22a2-11ea-a44e-acde48001122","retries":null,"suspended":false,"workerId":null,"topicName":"CamundaWorkflow","tenantId":"test-environment","priority":0,"businessKey":"Key"},{"activityId":"ServiceTaskForError","activityInstanceId":"ServiceTaskForError:c4c03b00-22a2-11ea-a44e-acde48001122","errorMessage":null,"errorDetails":null,"executionId":"c4c03aff-22a2-11ea-a44e-acde48001122","id":"c4c03b01-22a2-11ea-a44e-acde48001122","lockExpirationTime":null,"processDefinitionId":"CamundaWorkflow:2:c3da20c3-22a2-11ea-a44e-acde48001122","processDefinitionKey":"CamundaWorkflow","processDefinitionVersionTag":null,"processInstanceId":"c4c013de-22a2-11ea-a44e-acde48001122","retries":null,"suspended":false,"workerId":null,"topicName":"CamundaWorkflowErrors","tenantId":"test-environment","priority":0,"businessKey":"Key"}]'
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:46 GMT
- request:
    method: post
    uri: http://localhost:8080/rest/external-task/fetchAndLock
    body:
      encoding: UTF-8
      string: '{"workerId":"0","maxTasks":2,"asyncResponseTimeout":30000,"topics":[{"topicName":"CamundaWorkflow","lockDuration":1209600000}]}'
    headers:
      User-Agent:
      - Faraday v0.17.1
      Content-Type:
      - application/json
      Authorization:
      - Basic Og==
  response:
    status:
      code: 200
      message: ''
    headers:
      content-type:
      - application/json
      content-length:
      - '712'
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: '[{"activityId":"DoSomething","activityInstanceId":"DoSomething:c4c03afa-22a2-11ea-a44e-acde48001122","errorMessage":null,"errorDetails":null,"executionId":"c4c03af9-22a2-11ea-a44e-acde48001122","id":"c4c03afb-22a2-11ea-a44e-acde48001122","lockExpirationTime":"2020-01-02T16:01:46.963-0500","processDefinitionId":"CamundaWorkflow:2:c3da20c3-22a2-11ea-a44e-acde48001122","processDefinitionKey":"CamundaWorkflow","processDefinitionVersionTag":null,"processInstanceId":"c4c013de-22a2-11ea-a44e-acde48001122","retries":null,"suspended":false,"workerId":"0","topicName":"CamundaWorkflow","tenantId":"test-environment","variables":{"x":{"type":"String","value":"abcd","valueInfo":{}}},"priority":0,"businessKey":"Key"}]'
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:46 GMT
- request:
    method: post
    uri: http://localhost:8080/rest/external-task/c4c03afb-22a2-11ea-a44e-acde48001122/failure
    body:
      encoding: UTF-8
      string: '{"workerId":"0","errorMessage":"Class to run a Camunda activity does
        not exist. Ensure there is a class with name: CamundaWorkflow::DoSomething
        available.","errorDetails":"/Users/asethi/Projects/camunda-workflow/lib/camunda/external_task.rb:147:in
        `block in task_class''\n/Users/asethi/Projects/camunda-workflow/lib/camunda/external_task.rb:146:in
        `tap''\n/Users/asethi/Projects/camunda-workflow/lib/camunda/external_task.rb:146:in
        `task_class''\n/Users/asethi/Projects/camunda-workflow/lib/camunda/external_task.rb:101:in
        `queue_task''\n/Users/asethi/Projects/camunda-workflow/lib/camunda/poller.rb:14:in
        `block (2 levels) in fetch_and_queue''\n/Users/asethi/Projects/camunda-workflow/lib/camunda/poller.rb:13:in
        `each''\n/Users/asethi/Projects/camunda-workflow/lib/camunda/poller.rb:13:in
        `block in fetch_and_queue''\n/Users/asethi/Projects/camunda-workflow/lib/camunda/poller.rb:11:in
        `fetch_and_queue''\n/Users/asethi/Projects/camunda-workflow/spec/camunda/poller_spec.rb:33:in
        `block (3 levels) in <top (required)>''\n/Users/asethi/Projects/camunda-workflow/spec/support/vcr.rb:38:in
        `block (3 levels) in <top (required)>''\n/Users/asethi/Projects/camunda-workflow/spec/support/vcr.rb:36:in
        `block (2 levels) in <top (required)>''\n/Users/asethi/.rvm/gems/ruby-2.6.5/bin/rspec:23:in
        `load''\n/Users/asethi/.rvm/gems/ruby-2.6.5/bin/rspec:23:in `<top (required)>''\n/Users/asethi/.rvm/gems/ruby-2.6.5/bin/bundle:23:in
        `load''\n/Users/asethi/.rvm/gems/ruby-2.6.5/bin/bundle:23:in `<main>''"}'
    headers:
      User-Agent:
      - Faraday v0.17.1
      Content-Type:
      - application/json
      Authorization:
      - Basic Og==
  response:
    status:
      code: 204
      message: ''
    headers:
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:46 GMT
- request:
    method: get
    uri: http://localhost:8080/rest/incident?tenantIdIn=test-environment
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - Basic Og==
  response:
    status:
      code: 200
      message: ''
    headers:
      content-type:
      - application/json
      content-length:
      - '721'
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: '[{"id":"c4c87866-22a2-11ea-a44e-acde48001122","processDefinitionId":"CamundaWorkflow:2:c3da20c3-22a2-11ea-a44e-acde48001122","processInstanceId":"c4c013de-22a2-11ea-a44e-acde48001122","executionId":"c4c03af9-22a2-11ea-a44e-acde48001122","incidentTimestamp":"2019-12-19T16:01:46.974-0500","incidentType":"failedExternalTask","activityId":"DoSomething","causeIncidentId":"c4c87866-22a2-11ea-a44e-acde48001122","rootCauseIncidentId":"c4c87866-22a2-11ea-a44e-acde48001122","configuration":"c4c03afb-22a2-11ea-a44e-acde48001122","incidentMessage":"Class
        to run a Camunda activity does not exist. Ensure there is a class with name:
        CamundaWorkflow::DoSomething available.","tenantId":"test-environment","jobDefinitionId":null}]'
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:46 GMT
- request:
    method: get
    uri: http://localhost:8080/rest/process-instance?tenantIdIn=test-environment
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - Basic Og==
  response:
    status:
      code: 200
      message: ''
    headers:
      content-type:
      - application/json
      content-length:
      - '234'
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: '[{"links":[],"id":"c4c013de-22a2-11ea-a44e-acde48001122","definitionId":"CamundaWorkflow:2:c3da20c3-22a2-11ea-a44e-acde48001122","businessKey":"Key","caseInstanceId":null,"ended":false,"suspended":false,"tenantId":"test-environment"}]'
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:46 GMT
- request:
    method: delete
    uri: http://localhost:8080/rest/process-instance/c4c013de-22a2-11ea-a44e-acde48001122
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      User-Agent:
      - Faraday v0.17.1
      Content-Type:
      - application/json
      Authorization:
      - Basic Og==
  response:
    status:
      code: 204
      message: ''
    headers:
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:47 GMT
- request:
    method: get
    uri: http://localhost:8080/rest/incident?tenantIdIn=test-environment
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.17.1
      Authorization:
      - Basic Og==
  response:
    status:
      code: 200
      message: ''
    headers:
      content-type:
      - application/json
      content-length:
      - '2'
      date:
      - Thu, 19 Dec 2019 21:01:46 GMT
      connection:
      - close
    body:
      encoding: UTF-8
      string: "[]"
    http_version: 
  recorded_at: Thu, 19 Dec 2019 21:01:47 GMT
recorded_with: VCR 5.0.0
