<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Camunda::Poller
  
    &mdash; Documentation by YARD 0.9.20
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Camunda::Poller";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (P)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Camunda.html" title="Camunda (module)">Camunda</a></span></span>
     &raquo; 
    <span class="title">Poller</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Camunda::Poller
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Camunda::Poller</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/camunda/poller.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The poller will run as an infinite loop with long polling to fetch tasks, queue, and run them. Topic is the process definition key. Below will run the poller to fetch, lock, and run a task for the example process definition with an id of CamundaWorkflow.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../Camunda.html" title="Camunda (module)">Camunda</a></span></span><span class='op'>::</span><span class='const'>Poller</span><span class='period'>.</span><span class='id identifier rubyid_fetch_and_execute'><span class='object_link'><a href="#fetch_and_execute-class_method" title="Camunda::Poller.fetch_and_execute (method)">fetch_and_execute</a></span></span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>CamundaWorkflow</span><span class='tstring_end'>]</span></span></code></pre>
    
  </div>


</div>






  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_and_execute-class_method" title="fetch_and_execute (class method)">.<strong>fetch_and_execute</strong>(topics, lock_duration: nil, long_polling_duration: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="fetch_and_execute-class_method">
  
    .<strong>fetch_and_execute</strong>(topics, lock_duration: nil, long_polling_duration: nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>topics</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>process definition keys</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>lock_duration</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>lock duration time, default time is set in Camunda::Workflow.configuration</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>long_polling_duration</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>long polling time, default is set to Camunda::Workflow.configuration</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/camunda/poller.rb', line 10</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_fetch_and_execute'>fetch_and_execute</span><span class='lparen'>(</span><span class='id identifier rubyid_topics'>topics</span><span class='comma'>,</span> <span class='label'>lock_duration:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>long_polling_duration:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
      <span class='const'><span class='object_link'><a href="../Camunda.html" title="Camunda (module)">Camunda</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="ExternalTask.html" title="Camunda::ExternalTask (class)">ExternalTask</a></span></span>
        <span class='period'>.</span><span class='id identifier rubyid_fetch_and_lock'>fetch_and_lock</span><span class='lparen'>(</span><span class='id identifier rubyid_topics'>topics</span><span class='comma'>,</span> <span class='label'>lock_duration:</span> <span class='id identifier rubyid_lock_duration'>lock_duration</span><span class='comma'>,</span> <span class='label'>long_polling_duration:</span> <span class='id identifier rubyid_long_polling_duration'>long_polling_duration</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:queue_task</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Dec  3 16:12:08 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20 (ruby-2.6.3).
</div>

    </div>
  </body>
</html>